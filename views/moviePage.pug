include navBar.pug
html
  head
    script(src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous")
    script.

        likeStatus="#{movieLikeStatus}";

        function sendData(sendMovie, likeOrDislike){
            var xhttp = new XMLHttpRequest();

            xhttp.open("POST", "likeOrDislike", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send('movieName=' + sendMovie + '&likedOrDisliked=' + likeOrDislike);
        }

        function fillLike(sendMovie){
            var thumbsUp = document.getElementById('thumbsUp');
            var thumbsDown = document.getElementById('thumbsDown');
            

            if(thumbsDown.getAttribute('src') == 'images/thumb-unfilled.png' && thumbsUp.getAttribute('src') == 'images/thumb-unfilled.png'){
                thumbsUp.src = 'images/thumb-filled.png';
                sendData(sendMovie, "liked")
            }else if(thumbsUp.getAttribute('src') == 'images/thumb-filled.png'){
                thumbsUp.src = 'images/thumb-unfilled.png';
                sendData(sendMovie, "neutral")
            }else if(thumbsDown.getAttribute('src') == 'images/thumb-filled.png' && thumbsUp.getAttribute('src') == 'images/thumb-unfilled.png'){
                thumbsUp.src = 'images/thumb-filled.png';
                thumbsDown.src = 'images/thumb-unfilled.png';
                sendData(sendMovie, "liked")
            }
        }

        function fillDislike(sendMovie){
            var thumbsUp = document.getElementById('thumbsUp');
            var thumbsDown = document.getElementById('thumbsDown');

            if(thumbsUp.getAttribute('src') == 'images/thumb-unfilled.png' && thumbsDown.getAttribute('src') == 'images/thumb-unfilled.png'){
                thumbsDown.src = 'images/thumb-filled.png';
                sendData(sendMovie, "disliked")
            }else if(thumbsDown.getAttribute('src') == 'images/thumb-filled.png'){
                thumbsDown.src = 'images/thumb-unfilled.png';
                sendData(sendMovie, "neutral")
            }else if(thumbsUp.getAttribute('src') == 'images/thumb-filled.png' && thumbsDown.getAttribute('src') == 'images/thumb-unfilled.png'){
                thumbsDown.src = 'images/thumb-filled.png';
                thumbsUp.src = 'images/thumb-unfilled.png';
                sendData(sendMovie, "disliked")
            }        
        }

        function fillOrNot(obj){
            var thumbsUp = document.getElementById('thumbsUp');
            var thumbsDown = document.getElementById('thumbsDown');
            console.log("This movie is " + obj);

            if(obj == "liked"){
                console.log("Movie is liked!");
                thumbsUp.src = 'images/thumb-filled.png';
            }else if(obj == "disliked"){
                console.log("Movie is disliked!");
                thumbsDown.src = 'images/thumb-filled.png';
            }
        }

        $( document ).ready(function() {
                console.log( "ready!" );
                fillOrNot(likeStatus);
            });
    style.
        .background{
            background-color: #d3d3d3;
        }

        .grid {
            width: 60%;
            margin: 0 auto;
            margin-top: 30px;
            background-color: #d3d3d3;
            display: flex;
            font-family: -apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Ubuntu,sans-serif;
            font-weight: 500;
            justify-content: space-evenly;;
            flex-wrap: wrap;
            padding: 0 30px;
        }

        .movieImageDiv{
            width: 15%;
            min-width: 300px;
            height: 450px;
            box-shadow: 0px 5px 5px rgb(10, 10, 10, .45);
        }

        .movieTitleDiv{
            margin-right: 20px;
            font-size: 45px;
        }

        .movieRatingDiv{
            
        }

        .rating, .year, .time {
            padding: 5px;
            
        }

        

        .description{
            
        }

        .genre{
            padding: 5px;
            color: white;
            border-radius: 10px;
            margin-right: 10px;
            background-color: rgb(52,58,64);
            text-align: center;
        }

        .playBtn{
            backface-visibility: hidden;
            background-color: #405cf5;
            border-radius: 6px;
            border-width: 0;
            box-shadow: rgba(50, 50, 93, .1) 0 0 0 1px inset,rgba(50, 50, 93, .1) 0 2px 5px 0,rgba(0, 0, 0, .07) 0 1px 1px 0;
            box-sizing: border-box;
            color: #fff;
            cursor: pointer;
            font-size: 90%;
            height: 35px;
            line-height: 1.15;
            margin: 6px 6px 0;
            outline: none;
            overflow: hidden;
            padding: 0 25px;
            position: relative;
            text-align: center;
            text-transform: none;
            transform: translateZ(0);
            transition: all .2s,box-shadow .08s ease-in;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
            display: inline-block;
            width: 100px;
        }

        .infoDiv{
            width: 70%;
        }

        .rotate180{
            transform: rotate(180deg);
        }

        .thumbImage{
            margin-right: 5px;
            margin-left: 5px;
            cursor: pointer;
        }        

  body.background
    +navBarSend(username)
    .grid
        div.movieImageDiv(style= "background: url(images/" + movieImageName + "); background-repeat: no-repeat; background-size: cover;")
        div.infoDiv    
            div.movieTitleDiv #{movieName}
            div.movieRatingDiv
                br
                a(href= "play-movie?" + movieName)
                    button.playBtn Play
                img#thumbsUp.thumbImage.rotate180(src='images/thumb-unfilled.png' width='40px' onclick='fillLike('+'"'+movieName+'"'+')')
                span#likeText LIKE
                img#thumbsDown.thumbImage(src='images/thumb-unfilled.png' width='40px' onclick='fillDislike('+'"'+movieName+'"'+')')
                span#dislikeText(onLoad) DISLIKE
                br
                br
                span.year #{releaseYear} |
                span.time #{runtime} mins |
                span.rating #{rating}
                br
                br
                for cat, i in category
                    span.genre #{cat} 
                br
                br
                span.description #{description}
    include footer.pug
